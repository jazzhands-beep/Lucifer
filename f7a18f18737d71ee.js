;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="f476758d-b1fe-4a79-1b67-e8d3f7f483fd")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,506057,e=>{"use strict";var t=e.i(648215);class r extends t.BaseError{constructor({address:e}){super(`No EIP-712 domain found on contract "${e}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${e}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}var i=e.i(95308),n=e.i(14165);async function s(e,t){let{address:s,factory:o,factoryData:u}=t;try{let[t,r,c,l,f,d,h]=await (0,i.getAction)(e,n.readContract,"readContract")({abi:a,address:s,functionName:"eip712Domain",factory:o,factoryData:u});return{domain:{name:r,version:c,chainId:Number(l),verifyingContract:f,salt:d},extensions:h,fields:t}}catch(e){if("ContractFunctionExecutionError"===e.name&&"ContractFunctionZeroDataError"===e.cause.name)throw new r({address:s});throw e}}let a=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];e.s(["getEip712Domain",()=>s],506057)},442554,29e3,915198,e=>{"use strict";var t=e.i(440012),r=e.i(48831),i=e.i(173416),n=e.i(442361);function s(e){let s;if("string"==typeof e)s=(0,n.parseSignature)(e);else{let t=(0,i.parseStructs)(e),a=e.length;for(let i=0;i<a;i++){let a=e[i];if(!(0,r.isStructSignature)(a)){s=(0,n.parseSignature)(a,t);break}}}if(!s)throw new t.InvalidAbiItemError({signature:e});return s}e.s(["parseAbiItem",()=>s],442554);var a=e.i(961014);class o extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){let t=super.get(e);return super.has(e)&&void 0!==t&&(this.delete(e),super.set(e,t)),t}set(e,t){if(super.set(e,t),this.maxSize&&this.size>this.maxSize){let e=this.keys().next().value;e&&this.delete(e)}return this}}let u={checksum:new o(8192)}.checksum;var c=e.i(178156),l=e.i(267865),f=c,d=e.i(439982),h=e.i(552676);function p(e,t={}){let{compressed:r}=t,{prefix:i,x:n,y:s}=e;if(!1===r||"bigint"==typeof n&&"bigint"==typeof s){if(4!==i)throw new w({prefix:i,cause:new P});return}if(!0===r||"bigint"==typeof n&&void 0===s){if(3!==i&&2!==i)throw new w({prefix:i,cause:new x});return}throw new v({publicKey:e})}function b(e){let t=(()=>{if(d.validate(e))return m(e);if(a.validate(e)){var t;return t=e,m(d.fromBytes(t))}let{prefix:r,x:i,y:n}=e;return"bigint"==typeof i&&"bigint"==typeof n?{prefix:r??4,x:i,y:n}:{prefix:r,x:i}})();return p(t),t}function m(e){if(132!==e.length&&130!==e.length&&68!==e.length)throw new B({publicKey:e});if(130===e.length)return{prefix:4,x:BigInt(d.slice(e,0,32)),y:BigInt(d.slice(e,32,64))};if(132===e.length){let t=Number(d.slice(e,0,1));return{prefix:t,x:BigInt(d.slice(e,1,33)),y:BigInt(d.slice(e,33,65))}}return{prefix:Number(d.slice(e,0,1)),x:BigInt(d.slice(e,1,33))}}function y(e,t={}){return a.fromHex(g(e,t))}function g(e,t={}){p(e);let{prefix:r,x:i,y:n}=e,{includePrefix:s=!0}=t;return d.concat(s?d.fromNumber(r,{size:1}):"0x",d.fromNumber(i,{size:32}),"bigint"==typeof n?d.fromNumber(n,{size:32}):"0x")}class v extends f.BaseError{constructor({publicKey:e}){super(`Value \`${h.stringify(e)}\` is not a valid public key.`,{metaMessages:["Public key must contain:","- an `x` and `prefix` value (compressed)","- an `x`, `y`, and `prefix` value (uncompressed)"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidError"})}}class w extends f.BaseError{constructor({prefix:e,cause:t}){super(`Prefix "${e}" is invalid.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidPrefixError"})}}class x extends f.BaseError{constructor(){super("Prefix must be 2 or 3 for compressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidCompressedPrefixError"})}}class P extends f.BaseError{constructor(){super("Prefix must be 4 for uncompressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidUncompressedPrefixError"})}}class B extends f.BaseError{constructor({publicKey:e}){super(`Value \`${e}\` is an invalid public key size.`,{metaMessages:["Expected: 33 bytes (compressed + prefix), 64 bytes (uncompressed) or 65 bytes (uncompressed + prefix).",`Received ${d.size(d.from(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidSerializedSizeError"})}}e.s(["from",()=>b,"toBytes",()=>y,"toHex",()=>g],29e3);let E=/^0x[a-fA-F0-9]{40}$/;function A(e,t={}){let{strict:r=!0}=t;if(!E.test(e))throw new S({address:e,cause:new R});if(r){if(e.toLowerCase()===e)return;if(I(e)!==e)throw new S({address:e,cause:new C})}}function I(e){if(u.has(e))return u.get(e);A(e,{strict:!1});let t=e.substring(2).toLowerCase(),r=l.keccak256(a.fromString(t),{as:"Bytes"}),i=t.split("");for(let e=0;e<40;e+=2)r[e>>1]>>4>=8&&i[e]&&(i[e]=i[e].toUpperCase()),(15&r[e>>1])>=8&&i[e+1]&&(i[e+1]=i[e+1].toUpperCase());let n=`0x${i.join("")}`;return u.set(e,n),n}function z(e,t={}){let r=l.keccak256(`0x${g(e).slice(4)}`).substring(26);return function(e,t={}){let{checksum:r=!1}=t;return(A(e),r)?I(e):e}(`0x${r}`,t)}function N(e,t){return A(e,{strict:!1}),A(t,{strict:!1}),e.toLowerCase()===t.toLowerCase()}function $(e,t={}){let{strict:r=!0}=t??{};try{return A(e,{strict:r}),!0}catch{return!1}}class S extends c.BaseError{constructor({address:e,cause:t}){super(`Address "${e}" is invalid.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class R extends c.BaseError{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class C extends c.BaseError{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}e.s(["assert",()=>A,"checksum",()=>I,"fromPublicKey",()=>z,"isEqual",()=>N,"validate",()=>$],915198)},16888,e=>{"use strict";var t=e.i(42148),r=e.i(442554),i=e.i(178156),n=e.i(267865),s=e.i(439982),a=e.i(915198);function o(e){let t=!0,r="",n=0,s="",a=!1;for(let i=0;i<e.length;i++){let o=e[i];if(["(",")",","].includes(o)&&(t=!0),"("===o&&n++,")"===o&&n--,t){if(0===n){if(" "===o&&["event","function","error",""].includes(s))s="";else if(s+=o,")"===o){a=!0;break}continue}if(" "===o){","!==e[i-1]&&","!==r&&",("!==r&&(r="",t=!1);continue}s+=o,r+=o}}if(!a)throw new i.BaseError("Unable to normalize signature.");return s}function u(e,t={}){let{prepare:i=!0}=t,n=Array.isArray(e)||"string"==typeof e?r.parseAbiItem(e):e;return{...n,...i?{hash:f(n)}:{}}}function c(e,t,r){let i,{args:n=[],prepare:o=!0}=r??{},u=s.validate(t,{strict:!1}),c=e.filter(e=>u?"function"===e.type||"error"===e.type?l(e)===s.slice(t,0,4):"event"===e.type&&f(e)===t:"name"in e&&e.name===t);if(0===c.length)throw new h({name:t});if(1===c.length)return{...c[0],...o?{hash:f(c[0])}:{}};for(let e of c){if("inputs"in e){if(!n||0===n.length){if(!e.inputs||0===e.inputs.length)return{...e,...o?{hash:f(e)}:{}};continue}if(e.inputs&&0!==e.inputs.length&&e.inputs.length===n.length&&n.every((t,r)=>{let i="inputs"in e&&e.inputs[r];return!!i&&function e(t,r){let i=typeof t,n=r.type;switch(n){case"address":return a.validate(t,{strict:!1});case"bool":return"boolean"===i;case"function":case"string":return"string"===i;default:if("tuple"===n&&"components"in r)return Object.values(r.components).every((r,i)=>e(Object.values(t)[i],r));if(/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(n))return"number"===i||"bigint"===i;if(/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(n))return"string"===i||t instanceof Uint8Array;if(/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(n))return Array.isArray(t)&&t.every(t=>e(t,{...r,type:n.replace(/(\[[0-9]{0,}\])$/,"")}));return!1}}(t,i)})){if(i&&"inputs"in i&&i.inputs){let t=function e(t,r,i){for(let n in t){let s=t[n],o=r[n];if("tuple"===s.type&&"tuple"===o.type&&"components"in s&&"components"in o)return e(s.components,o.components,i[n]);let u=[s.type,o.type];if(u.includes("address")&&u.includes("bytes20")||(u.includes("address")&&u.includes("string")||u.includes("address")&&u.includes("bytes"))&&a.validate(i[n],{strict:!1}))return u}}(e.inputs,i.inputs,n);if(t)throw new d({abiItem:e,type:t[0]},{abiItem:i,type:t[1]})}i=e}}}let p=(()=>{if(i)return i;let[e,...t]=c;return{...e,overloads:t}})();if(!p)throw new h({name:t});return{...p,...o?{hash:f(p)}:{}}}function l(...e){let t=(()=>{if(Array.isArray(e[0])){let[t,r]=e;return c(t,r)}return e[0]})();return s.slice(f(t),0,4)}function f(...e){let r=(()=>{if(Array.isArray(e[0])){let[t,r]=e;return c(t,r)}return e[0]})();return"string"!=typeof r&&"hash"in r&&r.hash?r.hash:n.keccak256(s.fromString(function(...e){let r=(()=>{if(Array.isArray(e[0])){let[t,r]=e;return c(t,r)}return e[0]})();return o("string"==typeof r?r:t.formatAbiItem(r))}(r)))}class d extends i.BaseError{constructor(e,r){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${e.type}\` in \`${o(t.formatAbiItem(e.abiItem))}\`, and`,`\`${r.type}\` in \`${o(t.formatAbiItem(r.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class h extends i.BaseError{constructor({name:e,data:t,type:r="item"}){super(`ABI ${r}${e?` with name "${e}"`:t?` with data "${t}"`:""} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}class p extends i.BaseError{constructor({data:e}){super(`Selector size is invalid. Expected 4 bytes. Received ${s.size(e)} bytes ("${e}").`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.InvalidSelectorSizeError"})}}e.s(["InvalidSelectorSizeError",()=>p,"NotFoundError",()=>h,"from",()=>u,"fromAbi",()=>c,"getSelector",()=>l],16888)},783772,27004,331181,380577,716402,184302,39018,e=>{"use strict";e.s(["ArrayLengthMismatchError",()=>I,"BytesSizeMismatchError",()=>z,"InvalidArrayError",()=>$,"InvalidTypeError",()=>S,"decode",()=>w,"encode",()=>x,"from",()=>B],27004);var t=e.i(334072),r=e.i(466943),i=e.i(915198),n=e.i(961014),s=e.i(178156),a=e.i(439982);let o=/^(.*)\[([0-9]*)\]$/,u=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,c=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,l=2n**256n-1n;function f(e){let t=0;for(let r=0;r<e.length;r++){let{dynamic:i,encoded:n}=e[r];i?t+=32:t+=a.size(n)}let r=[],i=[],n=0;for(let s=0;s<e.length;s++){let{dynamic:o,encoded:u}=e[s];o?(r.push(a.fromNumber(t+n,{size:32})),i.push(u),n+=a.size(u)):r.push(u)}return a.concat(...r,...i)}function d(e){let t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}function h(e){let{type:t}=e;if("string"===t||"bytes"===t||t.endsWith("[]"))return!0;if("tuple"===t)return e.components?.some(h);let r=d(e.type);return!!(r&&h({...e,type:r[1]}))}var p=s;let b={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:1/0,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new v({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new g({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new y({offset:e});let t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new y({offset:e});let t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){let t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){let r=t??this.position;return this.assertPosition(r+e-1),this.bytes.subarray(r,r+e)},inspectUint8(e){let t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){let t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){let t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){let t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,255&e),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();let e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();let r=this.inspectBytes(e);return this.position+=t??e,r},readUint8(){this.assertReadLimit(),this._touch();let e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();let e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();let e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();let e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){let t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===1/0)return;let e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function m(e,{recursiveReadLimit:t=8192}={}){let r=Object.create(b);return r.bytes=e,r.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),r.positionReadCount=new Map,r.recursiveReadLimit=t,r}class y extends p.BaseError{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}}class g extends p.BaseError{constructor({length:e,position:t}){super(`Position \`${t}\` is out of bounds (\`0 < position < ${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}}class v extends p.BaseError{constructor({count:e,limit:t}){super(`Recursive read limit of \`${t}\` exceeded (recursive read count: \`${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}function w(e,t,r={}){let{as:s="Array",checksumAddress:o=!1}=r,u="string"==typeof t?n.fromHex(t):t,c=m(u);if(0===n.size(u)&&e.length>0)throw new A;if(n.size(u)&&32>n.size(u))throw new E({data:"string"==typeof t?t:a.fromBytes(t),parameters:e,size:n.size(u)});let l=0,f="Array"===s?[]:{};for(let t=0;t<e.length;++t){let r=e[t];c.setPosition(l);let[u,p]=function e(t,r,s){var o,u,c;let{checksumAddress:l,staticPosition:f}=s,p=d(r.type);if(p){let[i,s]=p;return function(t,r,i){let{checksumAddress:s,length:a,staticPosition:o}=i;if(!a){let i=o+n.toNumber(t.readBytes(32)),a=i+32;t.setPosition(i);let u=n.toNumber(t.readBytes(32)),c=h(r),l=0,f=[];for(let i=0;i<u;++i){t.setPosition(a+(c?32*i:l));let[n,o]=e(t,r,{checksumAddress:s,staticPosition:a});l+=o,f.push(n)}return t.setPosition(o+32),[f,32]}if(h(r)){let i=o+n.toNumber(t.readBytes(32)),u=[];for(let n=0;n<a;++n){t.setPosition(i+32*n);let[a]=e(t,r,{checksumAddress:s,staticPosition:i});u.push(a)}return t.setPosition(o+32),[u,32]}let u=0,c=[];for(let i=0;i<a;++i){let[i,n]=e(t,r,{checksumAddress:s,staticPosition:o+u});u+=n,c.push(i)}return[c,u]}(t,{...r,type:s},{checksumAddress:l,length:i,staticPosition:f})}if("tuple"===r.type)return function(t,r,i){let{checksumAddress:s,staticPosition:a}=i,o=0===r.components.length||r.components.some(({name:e})=>!e),u=o?[]:{},c=0;if(h(r)){let i=a+n.toNumber(t.readBytes(32));for(let n=0;n<r.components.length;++n){let a=r.components[n];t.setPosition(i+c);let[l,f]=e(t,a,{checksumAddress:s,staticPosition:i});c+=f,u[o?n:a?.name]=l}return t.setPosition(a+32),[u,32]}for(let i=0;i<r.components.length;++i){let n=r.components[i],[l,f]=e(t,n,{checksumAddress:s,staticPosition:a});u[o?i:n?.name]=l,c+=f}return[u,c]}(t,r,{checksumAddress:l,staticPosition:f});if("address"===r.type)return function(e,t={}){let r,{checksum:s=!1}=t,o=e.readBytes(32);return[(r=a.fromBytes(n.slice(o,-20)),s?i.checksum(r):r),32]}(t,{checksum:l});if("bool"===r.type){return o=t,[n.toBoolean(o.readBytes(32),{size:32}),32]}if(r.type.startsWith("bytes"))return function(e,t,{staticPosition:r}){let[i,s]=t.type.split("bytes");if(!s){let t=n.toNumber(e.readBytes(32));e.setPosition(r+t);let i=n.toNumber(e.readBytes(32));if(0===i)return e.setPosition(r+32),["0x",32];let s=e.readBytes(i);return e.setPosition(r+32),[a.fromBytes(s),32]}return[a.fromBytes(e.readBytes(Number.parseInt(s,10),32)),32]}(t,r,{staticPosition:f});if(r.type.startsWith("uint")||r.type.startsWith("int")){let e,i,s;return u=t,e=(c=r).type.startsWith("int"),i=Number.parseInt(c.type.split("int")[1]||"256",10),s=u.readBytes(32),[i>48?n.toBigInt(s,{signed:e}):n.toNumber(s,{signed:e}),32]}if("string"===r.type)return function(e,{staticPosition:t}){let r=n.toNumber(e.readBytes(32));e.setPosition(t+r);let i=n.toNumber(e.readBytes(32));if(0===i)return e.setPosition(t+32),["",32];let s=e.readBytes(i,32),a=n.toString(n.trimLeft(s));return e.setPosition(t+32),[a,32]}(t,{staticPosition:f});throw new S(r.type)}(c,r,{checksumAddress:o,staticPosition:0});l+=p,"Array"===s?f.push(u):f[r.name??t]=u}return f}function x(e,t,r){let{checksumAddress:n=!1}=r??{};if(e.length!==t.length)throw new N({expectedLength:e.length,givenLength:t.length});let o=f(function({checksumAddress:e,parameters:t,values:r}){let n=[];for(let o=0;o<t.length;o++)n.push(function e({checksumAddress:t=!1,parameter:r,value:n}){let o=d(r.type);if(o){let[i,s]=o;return function(t,r){let{checksumAddress:i,length:n,parameter:s}=r,o=null===n;if(!Array.isArray(t))throw new $(t);if(!o&&t.length!==n)throw new I({expectedLength:n,givenLength:t.length,type:`${s.type}[${n}]`});let u=!1,c=[];for(let r=0;r<t.length;r++){let n=e({checksumAddress:i,parameter:s,value:t[r]});n.dynamic&&(u=!0),c.push(n)}if(o||u){let e=f(c);if(o){let t=a.fromNumber(c.length,{size:32});return{dynamic:!0,encoded:c.length>0?a.concat(t,e):t}}if(u)return{dynamic:!0,encoded:e}}return{dynamic:!1,encoded:a.concat(...c.map(({encoded:e})=>e))}}(n,{checksumAddress:t,length:i,parameter:{...r,type:s}})}if("tuple"===r.type)return function(t,r){let{checksumAddress:i,parameter:n}=r,s=!1,o=[];for(let r=0;r<n.components.length;r++){let a=n.components[r],u=Array.isArray(t)?r:a.name,c=e({checksumAddress:i,parameter:a,value:t[u]});o.push(c),c.dynamic&&(s=!0)}return{dynamic:s,encoded:s?f(o):a.concat(...o.map(({encoded:e})=>e))}}(n,{checksumAddress:t,parameter:r});if("address"===r.type)return function(e,t){let{checksum:r=!1}=t;return i.assert(e,{strict:r}),{dynamic:!1,encoded:a.padLeft(e.toLowerCase())}}(n,{checksum:t});if("bool"===r.type){var u=n;if("boolean"!=typeof u)throw new s.BaseError(`Invalid boolean value: "${u}" (type: ${typeof u}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:a.padLeft(a.fromBoolean(u))}}if(r.type.startsWith("uint")||r.type.startsWith("int")){let e=r.type.startsWith("int"),[,,t="256"]=c.exec(r.type)??[];return function(e,{signed:t,size:r}){if("number"==typeof r){let i=2n**(BigInt(r)-(t?1n:0n))-1n,n=t?-i-1n:0n;if(e>i||e<n)throw new a.IntegerOutOfRangeError({max:i.toString(),min:n.toString(),signed:t,size:r/8,value:e.toString()})}return{dynamic:!1,encoded:a.fromNumber(e,{size:32,signed:t})}}(n,{signed:e,size:Number(t)})}if(r.type.startsWith("bytes"))return function(e,{type:t}){let[,r]=t.split("bytes"),i=a.size(e);if(!r){let t=e;return i%32!=0&&(t=a.padRight(t,32*Math.ceil((e.length-2)/2/32))),{dynamic:!0,encoded:a.concat(a.padLeft(a.fromNumber(i,{size:32})),t)}}if(i!==Number.parseInt(r,10))throw new z({expectedSize:Number.parseInt(r,10),value:e});return{dynamic:!1,encoded:a.padRight(e)}}(n,{type:r.type});if("string"===r.type){var l=n;let e=a.fromString(l),t=Math.ceil(a.size(e)/32),r=[];for(let i=0;i<t;i++)r.push(a.padRight(a.slice(e,32*i,(i+1)*32)));return{dynamic:!0,encoded:a.concat(a.padRight(a.fromNumber(a.size(e),{size:32})),...r)}}throw new S(r.type)}({checksumAddress:e,parameter:t[o],value:r[o]}));return n}({checksumAddress:n,parameters:e,values:t}));return 0===o.length?"0x":o}function P(e,t){if(e.length!==t.length)throw new N({expectedLength:e.length,givenLength:t.length});let r=[];for(let i=0;i<e.length;i++){let n=e[i],s=t[i];r.push(P.encode(n,s))}return a.concat(...r)}function B(e){return Array.isArray(e)&&"string"==typeof e[0]||"string"==typeof e?r.parseAbiParameters(e):e}(P||(P={})).encode=function e(t,r,n=!1){if("address"===t)return i.assert(r),a.padLeft(r.toLowerCase(),32*!!n);if("string"===t)return a.fromString(r);if("bytes"===t)return r;if("bool"===t)return a.padLeft(a.fromBoolean(r),n?32:1);let s=t.match(c);if(s){let[e,t,i="256"]=s,o=Number.parseInt(i,10)/8;return a.fromNumber(r,{size:n?32:o,signed:"int"===t})}let l=t.match(u);if(l){let[e,t]=l;if(Number.parseInt(t,10)!==(r.length-2)/2)throw new z({expectedSize:Number.parseInt(t,10),value:r});return a.padRight(r,32*!!n)}let f=t.match(o);if(f&&Array.isArray(r)){let[t,i]=f,n=[];for(let t=0;t<r.length;t++)n.push(e(i,r[t],!0));return 0===n.length?"0x":a.concat(...n)}throw new S(t)};class E extends s.BaseError{constructor({data:e,parameters:r,size:i}){super(`Data size of ${i} bytes is too small for given parameters.`,{metaMessages:[`Params: (${t.formatAbiParameters(r)})`,`Data:   ${e} (${i} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.DataSizeTooSmallError"})}}class A extends s.BaseError{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ZeroDataError"})}}class I extends s.BaseError{constructor({expectedLength:e,givenLength:t,type:r}){super(`Array length mismatch for type \`${r}\`. Expected: \`${e}\`. Given: \`${t}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class z extends s.BaseError{constructor({expectedSize:e,value:t}){super(`Size of bytes "${t}" (bytes${a.size(t)}) does not match expected size (bytes${e}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class N extends s.BaseError{constructor({expectedLength:e,givenLength:t}){super(`ABI encoding parameters/values length mismatch.
Expected length (parameters): ${e}
Given length (values): ${t}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class $ extends s.BaseError{constructor(e){super(`Value \`${e}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class S extends s.BaseError{constructor(e){super(`Type \`${e}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}var R=s;let C="0x6492649264926492649264926492649264926492649264926492649264926492";function U(e){if(a.slice(e,-32)!==C)throw new k(e)}function L(e){return"string"==typeof e?O(e):e}function O(e){U(e);let[t,r,i]=w(B("address, bytes, bytes"),e);return{data:r,signature:i,to:t}}function j(e){let{data:t,signature:r,to:i}=e;return a.concat(x(B("address, bytes, bytes"),[i,t,r]),C)}function V(e){try{return U(e),!0}catch{return!1}}class k extends R.BaseError{constructor(e){super(`Value \`${e}\` is an invalid ERC-6492 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc6492.InvalidWrappedSignatureError"})}}e.s(["InvalidWrappedSignatureError",()=>k,"assert",()=>U,"from",()=>L,"magicBytes",0,C,"universalSignatureValidatorAbi",0,[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}],"universalSignatureValidatorBytecode",0,"0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572","unwrap",()=>O,"validate",()=>V,"wrap",()=>j],658187);var T=e.i(658187),T=T,H=e.i(267865);function D(e){var t;let r;return t=e,r="Hex",function e(t,r="Hex"){if(0===t.bytes.length)return"Hex"===r?a.fromBytes(t.bytes):t.bytes;let i=t.readByte();if(i<128&&t.decrementPosition(1),i<192){let e=M(t,i,128),n=t.readBytes(e);return"Hex"===r?a.fromBytes(n):n}let n=M(t,i,192);var s=t,o=n,u=r;let c=s.position,l=[];for(;s.position-c<o;)l.push(e(s,u));return l}(m((()=>{if("string"==typeof t){if(t.length>3&&t.length%2!=0)throw new a.InvalidLengthError(t);return n.fromHex(t)}return t})(),{recursiveReadLimit:1/0}),r)}function M(e,t,r){if(128===r&&t<128)return 1;if(t<=r+55)return t-r;if(t===r+55+1)return e.readUint8();if(t===r+55+2)return e.readUint16();if(t===r+55+3)return e.readUint24();if(t===r+55+4)return e.readUint32();throw new s.BaseError("Invalid RLP prefix")}function W(e,t={}){let{as:r="Hex"}=t;return function(e,t){let{as:r}=t,i=function e(t){var r,i;let s,a,o,u;return Array.isArray(t)?(a=F(s=(r=t.map(t=>e(t))).reduce((e,t)=>e+t.length,0)),{length:s<=55?1+s:1+a+s,encode(e){for(let{encode:t}of(s<=55?e.pushByte(192+s):(e.pushByte(247+a),1===a?e.pushUint8(s):2===a?e.pushUint16(s):3===a?e.pushUint24(s):e.pushUint32(s)),r))t(e)}}):(u=F((o="string"==typeof(i=t)?n.fromHex(i):i).length),{length:1===o.length&&o[0]<128?1:o.length<=55?1+o.length:1+u+o.length,encode(e){1===o.length&&o[0]<128||(o.length<=55?e.pushByte(128+o.length):(e.pushByte(183+u),1===u?e.pushUint8(o.length):2===u?e.pushUint16(o.length):3===u?e.pushUint24(o.length):e.pushUint32(o.length))),e.pushBytes(o)}})}(e),s=m(new Uint8Array(i.length));return(i.encode(s),"Hex"===r)?a.fromBytes(s.bytes):s.bytes}(e,{as:r})}function F(e){if(e<=255)return 1;if(e<=65535)return 2;if(e<=0xffffff)return 3;if(e<=0xffffffff)return 4;throw new s.BaseError("Length is too large.")}e.s(["fromHex",()=>W,"toHex",()=>D],331181);var _=e.i(300059),K=s,q=e.i(552676);function G(e,t={}){let{recovered:r}=t;if(void 0===e.r||void 0===e.s||r&&void 0===e.yParity)throw new ea({signature:e});if(e.r<0n||e.r>l)throw new eo({value:e.r});if(e.s<0n||e.s>l)throw new eu({value:e.s});if("number"==typeof e.yParity&&0!==e.yParity&&1!==e.yParity)throw new ec({value:e.yParity})}function Y(e){if(130!==e.length&&132!==e.length)throw new es({signature:e});let t=BigInt(a.slice(e,0,32)),r=BigInt(a.slice(e,32,64)),i=(()=>{let t=Number(`0x${e.slice(130)}`);if(!Number.isNaN(t))try{return ei(t)}catch{throw new ec({value:t})}})();return void 0===i?{r:t,s:r}:{r:t,s:r,yParity:i}}function Z(e){if(void 0!==e.r&&void 0!==e.s)return J(e)}function J(e){let t=(()=>{var t;if("string"==typeof e)return Y(e);if(e instanceof Uint8Array)return Y(a.fromBytes(e));return"string"==typeof e.r?Q(e):e.v?{r:(t=e).r,s:t.s,yParity:ei(t.v)}:{r:e.r,s:e.s,...void 0!==e.yParity?{yParity:e.yParity}:{}}})();return G(t),t}function Q(e){let t=(()=>{let t=e.v?Number(e.v):void 0,r=e.yParity?Number(e.yParity):void 0;if("number"==typeof t&&"number"!=typeof r&&(r=ei(t)),"number"!=typeof r)throw new ec({value:e.yParity});return r})();return{r:BigInt(e.r),s:BigInt(e.s),yParity:t}}function X(e){let[t,r,i]=e;return J({r:"0x"===r?0n:BigInt(r),s:"0x"===i?0n:BigInt(i),yParity:"0x"===t?0:Number(t)})}function ee(e){G(e);let t=e.r,r=e.s;return a.concat(a.fromNumber(t,{size:32}),a.fromNumber(r,{size:32}),"number"==typeof e.yParity?a.fromNumber(en(e.yParity),{size:1}):"0x")}function et(e){let{r:t,s:r,yParity:i}=e;return{r:a.fromNumber(t,{size:32}),s:a.fromNumber(r,{size:32}),yParity:0===i?"0x0":"0x1"}}function er(e){let{r:t,s:r,yParity:i}=e;return[i?"0x01":"0x",0n===t?"0x":a.trimLeft(a.fromNumber(t)),0n===r?"0x":a.trimLeft(a.fromNumber(r))]}function ei(e){if(0===e||27===e)return 0;if(1===e||28===e)return 1;if(e>=35)return+(e%2==0);throw new el({value:e})}function en(e){if(0===e)return 27;if(1===e)return 28;throw new ec({value:e})}class es extends K.BaseError{constructor({signature:e}){super(`Value \`${e}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${a.size(a.from(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class ea extends K.BaseError{constructor({signature:e}){super(`Signature \`${q.stringify(e)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}}class eo extends K.BaseError{constructor({value:e}){super(`Value \`${e}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}}class eu extends K.BaseError{constructor({value:e}){super(`Value \`${e}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}}class ec extends K.BaseError{constructor({value:e}){super(`Value \`${e}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class el extends K.BaseError{constructor({value:e}){super(`Value \`${e}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}function ef(e,t={}){return"string"==typeof e.chainId?ed(e):{...e,...t.signature}}function ed(e){let{address:t,chainId:r,nonce:i}=e,n=Z(e);return{address:t,chainId:Number(r),nonce:BigInt(i),...n}}function eh(e){return e.map(ed)}function ep(e){return function(e,t={}){let{presign:r}=t;return H.keccak256(a.concat("0x05",W(function(e){let{address:t,chainId:r,nonce:i}=e,n=Z(e);return[r?a.fromNumber(r):"0x",t,i?a.fromNumber(i):"0x",...n?er(n):[]]}(r?{address:e.address,chainId:e.chainId,nonce:e.nonce}:e))))}(e,{presign:!0})}function eb(e){let{address:t,chainId:r,nonce:i,...n}=e;return{address:t,chainId:a.fromNumber(r),nonce:a.fromNumber(i),...et(n)}}function em(e){return e.map(eb)}e.s(["assert",()=>G,"extract",()=>Z,"from",()=>J,"fromHex",()=>Y,"fromRpc",()=>Q,"fromTuple",()=>X,"toHex",()=>ee,"toRpc",()=>et,"toTuple",()=>er,"yParityToV",()=>en],380577),e.s(["from",()=>ef,"fromRpcList",()=>eh,"getSignPayload",()=>ep,"toRpcList",()=>em],716402);var ey=s;e.s(["extraEntropy",()=>!1],184302);var eg=e.i(29e3);function ev(e){return i.fromPublicKey(function(e){let{payload:t,signature:r}=e,{r:i,s:n,yParity:s}=r,o=new _.secp256k1.Signature(BigInt(i),BigInt(n)).addRecoveryBit(s).recoverPublicKey(a.from(t).substring(2));return eg.from(o)}(e))}function ew(e){let{address:t,hash:r,payload:s,publicKey:a,signature:o}=e;return t?i.isEqual(t,ev({payload:s,signature:o})):_.secp256k1.verify(o,n.from(s),eg.toBytes(a),...r?[{prehash:!0,lowS:!0}]:[])}_.secp256k1,e.s(["recoverAddress",()=>ev,"verify",()=>ew],39018);let ex="0x8010801080108010801080108010801080108010801080108010801080108010",eP=B("(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data");function eB(e){if("string"==typeof e){if(a.slice(e,-32)!==ex)throw new eN(e)}else G(e.authorization)}function eE(e){return"string"==typeof e?eA(e):e}function eA(e){eB(e);let t=a.toNumber(a.slice(e,-64,-32)),r=a.slice(e,-t-64,-64),i=a.slice(e,0,-t-64),[n,s,o]=w(eP,r);return{authorization:ef({address:n.delegation,chainId:Number(n.chainId),nonce:n.nonce,yParity:n.yParity,r:n.r,s:n.s}),signature:i,...o&&"0x"!==o?{data:o,to:s}:{}}}function eI(e){let{data:t,signature:r}=e;eB(e);let i=ev({payload:ep(e.authorization),signature:J(e.authorization)}),n=x(eP,[{...e.authorization,delegation:e.authorization.address,chainId:BigInt(e.authorization.chainId)},e.to??i,t??"0x"]),s=a.fromNumber(a.size(n),{size:32});return a.concat(r,n,s,ex)}function ez(e){try{return eB(e),!0}catch{return!1}}class eN extends ey.BaseError{constructor(e){super(`Value \`${e}\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc8010.InvalidWrappedSignatureError"})}}e.s(["InvalidWrappedSignatureError",()=>eN,"assert",()=>eB,"from",()=>eE,"magicBytes",0,ex,"suffixParameters",0,eP,"unwrap",()=>eA,"validate",()=>ez,"wrap",()=>eI],744679);var e$=e.i(744679),e$=e$,eS=e.i(781950),eR=e.i(236415),eC=e.i(426965),eU=e.i(728709),eL=e.i(626175),eO=e.i(781582),ej=e.i(910923),eV=e.i(829379);async function ek({address:e,authorization:t,signature:r}){return(0,ej.isAddressEqual)((0,eO.getAddress)(e),await (0,eV.recoverAuthorizationAddress)({authorization:t,signature:r}))}var eT=e.i(133655),eH=e.i(75610),eD=e.i(762325),eM=e.i(217560),eW=e.i(95308),eF=e.i(972395),e_=e.i(661920),eK=e.i(876027),eq=e.i(893363),eG=e.i(14165);async function eY(e,t){let r,{address:i,chain:n=e.chain,hash:s,erc6492VerifierAddress:a=t.universalSignatureVerifierAddress??n?.contracts?.erc6492Verifier?.address,multicallAddress:o=t.multicallAddress??n?.contracts?.multicall3?.address}=t;if(n?.verifyHash)return await n.verifyHash(e,t);let u=(r=t.signature,(0,eH.isHex)(r)?r:"object"==typeof r&&"r"in r&&"s"in r?function({r:e,s:t,to:r="hex",v:i,yParity:n}){let s=(()=>{if(0===n||1===n)return n;if(i&&(27n===i||28n===i||i>=35n))return+(i%2n===0n);throw Error("Invalid `v` or `yParity` value")})(),a=`0x${new _.secp256k1.Signature((0,eD.hexToBigInt)(e),(0,eD.hexToBigInt)(t)).toCompactHex()}${0===s?"1b":"1c"}`;return"hex"===r?a:(0,e_.hexToBytes)(a)}(r):(0,eM.bytesToHex)(r));try{if(e$.validate(u))return await eZ(e,{...t,multicallAddress:o,signature:u});return await eJ(e,{...t,verifierAddress:a,signature:u})}catch(e){try{if((0,ej.isAddressEqual)((0,eO.getAddress)(i),await (0,eF.recoverAddress)({hash:s,signature:u})))return!0}catch{}if(e instanceof eX)return!1;throw e}}async function eZ(e,t){let{address:r,blockNumber:i,blockTag:n,hash:s,multicallAddress:a}=t,{authorization:o,data:u,signature:c,to:l}=e$.unwrap(t.signature);if(await (0,eq.getCode)(e,{address:r,blockNumber:i,blockTag:n})===(0,eT.concatHex)(["0xef0100",o.address]))return await eQ(e,{address:r,blockNumber:i,blockTag:n,hash:s,signature:c});let f={address:o.address,chainId:Number(o.chainId),nonce:Number(o.nonce),r:(0,eM.numberToHex)(o.r,{size:32}),s:(0,eM.numberToHex)(o.s,{size:32}),yParity:o.yParity};if(!await ek({address:r,authorization:f}))throw new eX;let d=await (0,eW.getAction)(e,eG.readContract,"readContract")({...a?{address:a}:{code:eR.multicall3Bytecode},authorizationList:[f],abi:eS.multicall3Abi,blockNumber:i,blockTag:"pending",functionName:"aggregate3",args:[[...u?[{allowFailure:!0,target:l??r,callData:u}]:[],{allowFailure:!0,target:r,callData:(0,eL.encodeFunctionData)({abi:eS.erc1271Abi,functionName:"isValidSignature",args:[s,c]})}]]}),h=d[d.length-1]?.returnData;if(h?.startsWith("0x1626ba7e"))return!0;throw new eX}async function eJ(e,t){let{address:r,factory:i,factoryData:n,hash:s,signature:a,verifierAddress:o,...u}=t,c=await (async()=>!i&&!n||T.validate(a)?a:T.wrap({data:n,signature:a,to:i}))(),l=o?{to:o,data:(0,eL.encodeFunctionData)({abi:eS.erc6492SignatureValidatorAbi,functionName:"isValidSig",args:[r,s,c]}),...u}:{data:(0,eU.encodeDeployData)({abi:eS.erc6492SignatureValidatorAbi,args:[r,s,c],bytecode:eR.erc6492SignatureValidatorByteCode}),...u},{data:f}=await (0,eW.getAction)(e,eK.call,"call")(l).catch(e=>{if(e instanceof eC.CallExecutionError)throw new eX;throw e});if((0,eD.hexToBool)(f??"0x0"))return!0;throw new eX}async function eQ(e,t){let{address:r,blockNumber:i,blockTag:n,hash:s,signature:a}=t;if((await (0,eW.getAction)(e,eG.readContract,"readContract")({address:r,abi:eS.erc1271Abi,args:[s,a],blockNumber:i,blockTag:n,functionName:"isValidSignature"}).catch(e=>{if(e instanceof eC.ContractFunctionExecutionError)throw new eX;throw e})).startsWith("0x1626ba7e"))return!0;throw new eX}class eX extends Error{}e.s(["verifyHash",()=>eY],783772)},854803,e=>{"use strict";var t=e.i(741471),r=e.i(591432),i=e.i(910923),n=e.i(95308),s=e.i(580489),a=e.i(960684);async function o(e,o){let{account:u=e.account,chainId:c,nonce:l}=o;if(!u)throw new r.AccountNotFoundError({docsPath:"/docs/eip7702/prepareAuthorization"});let f=(0,t.parseAccount)(u),d=(()=>{if(o.executor)return"self"===o.executor?o.executor:(0,t.parseAccount)(o.executor)})(),h={address:o.contractAddress??o.address,chainId:c,nonce:l};return void 0===h.chainId&&(h.chainId=e.chain?.id??await (0,n.getAction)(e,s.getChainId,"getChainId")({})),void 0===h.nonce&&(h.nonce=await (0,n.getAction)(e,a.getTransactionCount,"getTransactionCount")({address:f.address,blockTag:"pending"}),("self"===d||d?.address&&(0,i.isAddressEqual)(d.address,f.address))&&(h.nonce+=1)),h}e.s(["prepareAuthorization",()=>o])}]);

//# debugId=f476758d-b1fe-4a79-1b67-e8d3f7f483fd